12.11 The dd Command

The dd command is a utility for copying files or entire partitions at the bit level. This command has several useful features, including:

    It can be used to clone or delete (wipe) entire disks or partitions.
    It can be used to copy raw data to removable devices, such as USB drives and CDROMs.
    It can backup and restore the MBR (Master Boot Record), a critical software component that is used to boot the system.
    It can be used to create a file of a specific size that is filled with binary zeros, which can then be used as a swap file (virtual memory).

The dd command uses special arguments to specify how it will work. The following illustrates some of the more commonly used arguments:
if=FILE 	The input file to be read.
of=FILE 	The output file to be written.
bs=SIZE 	The block size to be used. By default, the value is considered to be in bytes. Use the following suffixes to specify other units: K, M, G, and T for kilobytes, megabytes, gigabytes, and terabytes respectively.
count=NUMBER 	The number of blocks to read from the input file.

In the following example, a file named /tmp/swapex is created with 500 "one-megabyte" size blocks of zeros:

sysadmin@localhost:~$ dd if=/dev/zero of=/tmp/swapex bs=1M count=500
500+0 records in
500+0 records out
524288000 bytes (524 MB) copied, 0.825745 s, 635 MB/s

No block size or count needs to be specified when copying over entire devices. For example, to clone from one hard drive /dev/sda to another /dev/sdb, execute the following command:

Note

The examples below are designed to demonstrate how device files can be used to copy and backup devices. The files in the examples below are not available in our virtual machine environment.

sysadmin@localhost:~$ dd if=/dev/sda of=/dev/sdb

The dd command can even be used to make an .iso image backup of your CDROM or DVD device. The following will take all of the data from the DVD /dev/dvd and stores the data into a local file called dvd.iso:

sysadmin@localhost:~$ dd if=/dev/dvd of=dvd.iso

Consider This

Device files are files used to refer to devices on the system, such as hard drives, CD-ROMS, and partitions. Device files are associated with file names that are stored in the /dev directory.

The following information is provided to add clarity to the examples shown with the dd command:
/dev/sda 	A device file that typically refers to the first hard drive on the system.
/dev/sdb 	A device file that typically refers to the second hard drive on the system.
/dev/dvd 	A device file that typically refers to the first DVD drive on the system.